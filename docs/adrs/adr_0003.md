---
title: "Feature Tier System"
description: "Three-tier feature architecture allowing graceful degradation from LLM-powered features to core functionality with zero external dependencies."
type: adr
category: architecture
tags:
  - feature-flags
  - graceful-degradation
  - dependency-management
  - configuration
  - tiered-features
status: published
created: 2025-12-28
updated: 2026-01-04
author: Claude (Architect)
project: subcog
technologies:
  - llm
  - mcp
audience:
  - developers
  - architects
confidence: high
completeness: complete
---

# ADR-0003: Feature Tier System

## Status

Accepted

## Context

The memory system has features with varying dependencies:

- Core features work standalone
- Enhanced features need local processing
- LLM features require external API access

Users must be able to run with minimal dependencies.

## Decision

We will implement a three-tier feature architecture:

**Tier 1: Core (always available, zero external dependencies)**
- Memory capture and storage
- Semantic search (vector + BM25)
- Git notes persistence
- Multi-domain memories
- MCP tools

**Tier 2: Enhanced (opt-in, no external services)**
- Entity extraction
- Temporal extraction
- Secrets filtering
- Hook system
- Advanced observability

**Tier 3: LLM-Powered (opt-in, requires LLM provider)**
- Implicit capture
- Consolidation
- Supersession detection
- Temporal reasoning
- Query expansion

## Consequences

### Positive

- Minimal dependency for basic usage
- Explicit opt-in for advanced features
- Graceful degradation when services unavailable
- Clear documentation of requirements

### Negative

- Feature flag management complexity
- Conditional code paths
- Testing all tier combinations

## Decision Outcome

Users should not be forced to configure an LLM provider just to capture and search memories. The tier system makes this explicit.

## More Information

- **Date:** 2025-12-28
- **Source:** SPEC-2025-12-28: Subcog Rust Rewrite
