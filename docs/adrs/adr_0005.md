---
title: "URN Scheme for Memory Addressing"
description: "Adopts subcog://{domain}/{namespace}/{id} URN scheme for unique, human-readable memory identifiers compatible with MCP resources."
type: adr
category: architecture
tags:
  - urn
  - addressing
  - identifiers
  - mcp
  - namespacing
status: published
created: 2025-12-28
updated: 2026-01-04
author: Claude (Architect)
project: subcog
technologies:
  - mcp
  - uri
audience:
  - developers
  - architects
confidence: high
completeness: complete
---

# ADR-0005: URN Scheme for Memory Addressing

## Status

Accepted

## Context

Memories need unique, stable identifiers that:

- Work across domains (project, user, org)
- Are human-readable
- Support MCP resource addressing
- Enable linking between memories

## Decision

We will adopt the URN scheme: `subcog://{domain}/{namespace}/{id}`

Examples:

- `subcog://project:my-app/decisions/abc1234:0`
- `subcog://user/learnings/def5678:1`
- `subcog://org:acme-corp/patterns/ghi9012:0`

## Consequences

### Positive

- Consistent addressing across interfaces
- MCP resource compatibility
- Human-readable format
- Domain hierarchy encoded
- Supports URI parsing libraries

### Negative

- Longer than simple IDs
- Encoding required for special characters
- Version not encoded (may need extension)

## Decision Outcome

The URN scheme provides a foundation for MCP resources and future API extensions. The format is intuitive and parseable.

## More Information

- **Date:** 2025-12-28
- **Source:** SPEC-2025-12-28: Subcog Rust Rewrite

## Audit

### 2026-01-04

**Status:** Violated

**Findings:**

| Finding | Files | Lines | Assessment |
|---------|-------|-------|------------|
| URN generation omits the `mem` segment | `src/services/capture.rs` | L330-L344 | violation |

**Summary:** URNs are generated without the `/mem/` segment required by the ADR.

**Action Required:** Align URN format to `subcog://{domain}/{namespace}/{id}` or update the ADR.
