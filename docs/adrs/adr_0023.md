---
title: "RecallService for Deduplication Lookups"
description: "Use RecallService.search() for deduplication lookups to maintain consistency with existing search patterns and abstractions."
type: adr
category: architecture
tags:
  - recall-service
  - deduplication
  - search
  - abstraction
status: published
created: 2026-01-01
updated: 2026-01-04
author: Claude (Architect)
project: subcog
audience:
  - developers
  - architects
confidence: high
completeness: complete
---

# ADR-0023: RecallService for Deduplication Lookups

## Status

Accepted

## Context

We need to query existing memories to check for duplicates. Options: direct index query, direct vector query, or use RecallService.

## Decision

We will use `RecallService.search()` with appropriate filters for deduplication lookups.

## Consequences

### Positive

- Consistent with existing search patterns
- Automatic handling of hybrid search modes
- Benefits from any future RecallService optimizations
- Single source of truth for search logic

### Negative

- Slightly more overhead than direct backend queries
- RecallService may do more work than strictly needed

## Options Considered

### Option 1: Direct IndexBackend query

**Pros:**
- Faster

**Cons:**
- Bypasses abstractions

### Option 2: Direct VectorBackend query

**Cons:**
- Misses text-based fallback

### Option 3: New DeduplicationBackend

**Cons:**
- Overkill, duplicates functionality

## More Information

- **Date:** 2026-01-01
- **Source:** SPEC-2026-01-01-001: Pre-Compact Deduplication
