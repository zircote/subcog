---
title: "Hook Output Format for Skip Reporting"
description: "Include detailed skip information in hook additionalContext with reason, matched ID, and similarity score for transparency."
type: adr
category: integration
tags:
  - hook-output
  - deduplication
  - transparency
  - debugging
  - urn
status: published
created: 2026-01-01
updated: 2026-01-04
author: Claude (Architect)
project: subcog
audience:
  - developers
  - operators
confidence: high
completeness: complete
---

# ADR-0024: Hook Output Format for Skip Reporting

## Status

Accepted

## Context

How should skipped duplicates be reported in the hook output? Options: silent skip, count only, or detailed listing.

## Decision

We will include detailed skip information in `additionalContext` with reason, matched ID, and similarity score.

## Consequences

### Positive

- Full transparency for debugging
- Users can verify deduplication is working
- Similarity scores help tune thresholds

### Negative

- Longer output in hook response
- May be verbose during high-dedup scenarios

## Output Format

```
Skipped 3 duplicates:
- Exact match: "Use PostgreSQL for..." (matches subcog://global/decisions/abc123)
- Semantic 94%: "We chose Postgres..." (similar to subcog://global/decisions/abc123)
- Recent capture: "PostgreSQL decision..." (captured 2 min ago, subcog://global/decisions/def456)
```

**Note**: All memory references use full URN format: `subcog://{domain}/{namespace}/{id}`

## More Information

- **Date:** 2026-01-01
- **Source:** SPEC-2026-01-01-001: Pre-Compact Deduplication
