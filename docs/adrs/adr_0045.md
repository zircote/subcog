---
title: "URN Format for User Scope"
description: "Use subcog://user/{namespace}/{id} URN format for user-scoped memories to clearly distinguish from global scope."
type: adr
category: architecture
tags:
  - urn
  - user-scope
  - naming-convention
  - identifiers
status: published
created: 2026-01-02
updated: 2026-01-04
author: Claude (Architect)
project: subcog
audience:
  - developers
  - architects
confidence: high
completeness: complete
---

# ADR-0045: URN Format for User Scope

## Status

Accepted

## Context

User-scope memories need URN identifiers. Current project-scope uses `subcog://global/{namespace}/{id}`.

Options considered:
1. Use `subcog://user/{namespace}/{id}`
2. Use `subcog://local/{namespace}/{id}`
3. Use `subcog://~/{namespace}/{id}`
4. Keep `global` for all scopes

## Decision

We will use `subcog://user/{namespace}/{id}` for user-scoped memories.

## Consequences

### Positive

- Users can immediately identify memory scope
- Easy to filter by scope in tools
- Consistent with internal `Domain` representation
- Clear scope indicator ("user" clearly indicates personal scope)
- Standard URN format maintained
- Parseable

### Negative

- Two URN prefixes to document
- Search results might mix scopes (if cross-scope search added)

## Alternatives Considered

- **`local`**: Ambiguous (local to what?)
- **`~`**: Not URL-safe without encoding
- **Keep `global`**: No way to distinguish scopes

## Decision Outcome

The `user` prefix provides clear, unambiguous scope identification that aligns with the internal domain model.

## More Information

- **Date:** 2026-01-02
- **Source:** SPEC-2026-01-02: User-Scope Storage Fallback

## Audit

### 2026-01-04

**Status:** Compliant

**Findings:**

| Finding | Files | Lines | Assessment |
|---------|-------|-------|------------|
| User-scoped domain is represented as 'user' | `src/models/domain.rs` | L192-L252 | compliant |
| URN builder uses domain string for scope | `src/services/capture.rs` | L332-L344 | compliant |

**Summary:** User scope renders as `user` in URNs generated from domain display.

**Action Required:** None
