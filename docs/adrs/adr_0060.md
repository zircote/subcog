# Observability Expansion Priorities

* Status: accepted
* Deciders: Subcog maintainers
* Date: 2026-01-04

## Context and Problem Statement

Subcog needs end-to-end observability with consistent tracing, logging, and
metrics across CLI, MCP, and hook execution paths. We must decide which flows
receive parity and which signals are prioritized first.

## Decision Drivers

- Provide end-to-end traceability for core workflows
- Keep MCP and hooks equally supported
- Focus on latency SLOs first
- Reduce risk of exposing sensitive data

## Considered Options

- Prioritize MCP instrumentation, add hooks later
- Focus on error budgets before latency
- Sample all flows uniformly
- Single event stream for all events

## Decision Outcome

Chosen approach:

- Treat MCP and hooks as equal-priority instrumentation targets
- Focus initial SLOs on **latency**
- Prioritize trace sampling for **capture** and **recall**
- Separate security-sensitive events into a distinct event stream

### Positive Consequences

- Clear parity across MCP and hooks
- Early latency visibility for primary workflows
- Reduced risk of sensitive data leakage

### Negative Consequences

- Broader scope increases instrumentation effort
- Requires extra plumbing for secure event streams

## Links

- Plan: `docs/spec/active/observability-eventbus-plan.md`
